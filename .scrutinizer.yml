#build:
#  environment:
#    php:
#      version: 8.2
#  nodes:
#    analysis:
#      project_setup:
#        override:
#          - 'true'
#      tests:
#        override:
#          - php-scrutinizer-run
#
#    tests: true
#filter:
#  paths:
#    - 'app/*'
#  excluded_paths:
#    - 'app/views/*'
#    - 'app/config/*'
#    - 'app/database/*'
#    - 'reports/*'
#    - 'vendor/*'
#    - 'tests/*'
#checks:
#  php: true
#coding_style:
#  php:
#    spaces:
#      within:
#        brackets: true
#---
build:
  environment:
    php:
      version: 8.2
  nodes:
    coverage:
      tests:
        before:
          - "cp .env.example .env"
        override:
          - command: 'php artisan test'
            coverage:
              file: './target/coverage.xml'
              format: 'clover'

filter:
  paths:
    - 'app/*'
  excluded_paths:
    - 'vendor/*'
    - 'tests/*'
    - 'app/views/*'
    - 'app/config/*'
    - 'app/database/*'
    - 'reports/*'
